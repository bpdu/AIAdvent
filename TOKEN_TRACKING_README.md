# –†–∞–±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –≤ Telegram –±–æ—Ç–µ —Å OpenRouter (–ë–ï–°–ü–õ–ê–¢–ù–û!)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ–¥—Å—á—ë—Ç–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ Telegram –±–æ—Ç–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–±–µ—Å–ø–ª–∞—Ç–Ω–æ–π** –º–æ–¥–µ–ª–∏ Qwen —á–µ—Ä–µ–∑ OpenRouter API.

## –ü–æ—á–µ–º—É OpenRouter?

- ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –ë–ï–°–ü–õ–ê–¢–ù–û** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å `qwen/qwen-2.5-7b-instruct:free`
- ‚úÖ –¢–æ—á–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∫–∞–∂–¥–æ–º –æ—Ç–≤–µ—Ç–µ
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ [openrouter.ai](https://openrouter.ai/)

## –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. –ü–æ–¥—Å—á—ë—Ç —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

–ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–∫–µ–Ω–∞—Ö –∏–∑ API OpenRouter:
- **prompt_tokens** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∑–∞–ø—Ä–æ—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **completion_tokens** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ –º–æ–¥–µ–ª–∏
- **total_tokens** - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤

### 2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
```
üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤:
‚Ä¢ –ó–∞–ø—Ä–æ—Å: 156
‚Ä¢ –û—Ç–≤–µ—Ç: 432
‚Ä¢ –í—Å–µ–≥–æ: 588
```

### 3. –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

#### `/start` - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ.

#### `/help` - –°–ø—Ä–∞–≤–∫–∞
–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.

#### `/stats` - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤:
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –°—É–º–º–∞—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –∑–∞–ø—Ä–æ—Å
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 –∑–∞–ø—Ä–æ—Å–æ–≤

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
===================================

–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 7

–û–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
‚Ä¢ –í—Å–µ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤: 3456
‚Ä¢ –¢–æ–∫–µ–Ω–æ–≤ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö: 1234
‚Ä¢ –¢–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–∞—Ö: 2222

–°—Ä–µ–¥–Ω–µ–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å:
‚Ä¢ –í—Å–µ–≥–æ: 493.7 —Ç–æ–∫–µ–Ω–æ–≤
‚Ä¢ –ó–∞–ø—Ä–æ—Å: 176.3 —Ç–æ–∫–µ–Ω–æ–≤
‚Ä¢ –û—Ç–≤–µ—Ç: 317.4 —Ç–æ–∫–µ–Ω–æ–≤

===================================
–ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –∑–∞–ø—Ä–æ—Å–æ–≤:

1. 2025-12-10 15:30:22
   –î–ª–∏–Ω–∞ –≤–æ–ø—Ä–æ—Å–∞: 25 —Å–∏–º–≤–æ–ª–æ–≤
   –î–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞: 156 —Å–∏–º–≤–æ–ª–æ–≤
   –¢–æ–∫–µ–Ω—ã: 234 (89+145)
```

#### `/clear` - –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏

–û—á–∏—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ (–ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞).

### 4. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –¥–ª–∏–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

–ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–µ–≤—ã—à–∞–µ—Ç 7000 —Ç–æ–∫–µ–Ω–æ–≤, –±–æ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç:
```
‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ: –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å!
–ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ 7500 —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞.
–ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç.
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á OpenRouter

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [https://openrouter.ai/](https://openrouter.ai/)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "API Keys"
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.secrets/openrouter-api-key.env`:

```bash
OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxx
```

–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞: `.secrets/openrouter-api-key.env.example`

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

–¢—Ä–µ–±—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- `python-telegram-bot` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram
- `requests` - –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- `python-dotenv` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

–°–∫—Ä–∏–ø—Ç `test_tokens.py` –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –Ω–∞ —Ç—Ä—ë—Ö —Ç–∏–ø–∞—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

```bash
python test_tokens.py
```

#### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–∫—Ä–∏–ø—Ç:

1. **–ö–æ—Ä–æ—Ç–∫–∏–π –∑–∞–ø—Ä–æ—Å** (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
   - –ü—Ä–∏–º–µ—Ä: "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?"
   - –û–∂–∏–¥–∞–µ–º–æ: ~10-50 —Ç–æ–∫–µ–Ω–æ–≤

2. **–°—Ä–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å** (—É–º–µ—Ä–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
   - –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤–æ–ø—Ä–æ—Å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
   - –û–∂–∏–¥–∞–µ–º–æ: ~100-500 —Ç–æ–∫–µ–Ω–æ–≤

3. **–î–ª–∏–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å** (–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
   - –î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤
   - –û–∂–∏–¥–∞–µ–º–æ: ~500-2000+ —Ç–æ–∫–µ–Ω–æ–≤

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —Ç–µ—Å—Ç–∞:

```
============================================================
üöÄ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –†–ê–ë–û–¢–´ –° –¢–û–ö–ï–ù–ê–ú–ò OPENROUTER API
   (–ë–ï–°–ü–õ–ê–¢–ù–ê–Ø –ú–û–î–ï–õ–¨ QWEN)
============================================================

============================================================
üìù –¢–ï–°–¢ 1: –ö–æ—Ä–æ—Ç–∫–∏–π –∑–∞–ø—Ä–æ—Å
============================================================
–ú–æ–¥–µ–ª—å: qwen/qwen-2.5-7b-instruct:free
–î–ª–∏–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞: 19 —Å–∏–º–≤–æ–ª–æ–≤
–ü—Ä–∏–º–µ—Ä–Ω–æ: 4 —Ç–æ–∫–µ–Ω–æ–≤ (–æ—Ü–µ–Ω–∫–∞)

‚úÖ –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤:
   ‚Ä¢ –í—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã (–∑–∞–ø—Ä–æ—Å): 15
   ‚Ä¢ –í—ã—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã (–æ—Ç–≤–µ—Ç): 28
   ‚Ä¢ –í—Å–µ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤: 43

üí¨ –û—Ç–≤–µ—Ç (–ø–µ—Ä–≤—ã–µ 150 —Å–∏–º–≤–æ–ª–æ–≤):
   –ü—Ä–∏–≤–µ—Ç! –£ –º–µ–Ω—è –≤—Å—ë –æ—Ç–ª–∏—á–Ω–æ, —Å–ø–∞—Å–∏–±–æ –∑–∞ –≤–æ–ø—Ä–æ—Å...
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –º–æ–¥–µ–ª—å

**qwen/qwen-2.5-7b-instruct:free**
- –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –æ—Ç Alibaba Cloud
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–∫–Ω–æ: 32K —Ç–æ–∫–µ–Ω–æ–≤
- –û—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ API

OpenRouter API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –ø–æ–ª–µ `usage`:

```json
{
  "choices": [
    {
      "message": {
        "role": "assistant",
        "content": "–û—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏..."
      }
    }
  ],
  "usage": {
    "prompt_tokens": 156,
    "completion_tokens": 432,
    "total_tokens": 588
  }
}
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–æ—Ç —Ö—Ä–∞–Ω–∏—Ç –≤ `context.user_data`:

```python
'token_stats': {
    'total_requests': 0,          # –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
    'total_tokens': 0,            # –°—É–º–º–∞ –≤—Å–µ—Ö —Ç–æ–∫–µ–Ω–æ–≤
    'total_prompt_tokens': 0,     # –°—É–º–º–∞ –≤—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
    'total_completion_tokens': 0, # –°—É–º–º–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
    'requests_history': [         # –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 20 –∑–∞–ø—Ä–æ—Å–æ–≤
        {
            'timestamp': '2025-12-10 15:30:22',
            'question_length': 25,
            'response_length': 156,
            'tokens': {
                'total_tokens': 234,
                'prompt_tokens': 89,
                'completion_tokens': 145
            }
        }
    ]
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
python bot.py
```

### 2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–æ–ø—Ä–æ—Å –±–æ—Ç—É

–ë–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç –∏ –ø–æ–∫–∞–∂–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–∫–µ–Ω–æ–≤:

```
[–û—Ç–≤–µ—Ç –±–æ—Ç–∞ –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å]

üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤:
‚Ä¢ –ó–∞–ø—Ä–æ—Å: 45
‚Ä¢ –û—Ç–≤–µ—Ç: 123
‚Ä¢ –í—Å–µ–≥–æ: 168
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/stats` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

```
/stats
```

### 4. –û—á–∏—Å—Ç–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

```
/clear
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ? | –¢—Ä–µ–±—É–µ—Ç –∫–∞—Ä—Ç—É? | –ü–æ–¥—Å—á—ë—Ç —Ç–æ–∫–µ–Ω–æ–≤ |
|-----------|------------|----------------|-----------------|
| OpenRouter (Qwen) | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –¢–æ—á–Ω—ã–π |
| OpenAI GPT | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚úÖ –¢–æ—á–Ω—ã–π |
| YandexGPT | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚úÖ –¢–æ—á–Ω—ã–π |
| Anthropic Claude | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚úÖ –¢–æ—á–Ω—ã–π |

## –õ–∏–º–∏—Ç—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏

- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–∫–Ω–æ**: 32,768 —Ç–æ–∫–µ–Ω–æ–≤
- **–ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ**: –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2000)
- **Rate limit**: ~20 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É (–¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: **–ë–ï–°–ü–õ–ê–¢–ù–û** ‚ú®

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞—Ç—Ä–∞—Ç**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/stats` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞ —Ç–æ–∫–µ–Ω–æ–≤ (—Ö–æ—Ç—è –º–æ–¥–µ–ª—å –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è!)
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –æ—á–∏—â–∞–π—Ç–µ –∏—Å—Ç–æ—Ä–∏—é `/clear` –∫–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–º
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `test_tokens.py` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
4. **–í–∏–¥–µ–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è**: –∑–∞–ø–∏—à–∏—Ç–µ —ç–∫—Ä–∞–Ω –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ—Ç–æ–º, –ø–æ–∫–∞–∑–∞–≤:
   - –ö–æ—Ä–æ—Ç–∫–∏–π –∑–∞–ø—Ä–æ—Å (–º–∏–Ω–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤)
   - –°—Ä–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å (—É–º–µ—Ä–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
   - –î–ª–∏–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–º–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤)
   - –ö–æ–º–∞–Ω–¥—É `/stats` —Å –∏—Å—Ç–æ—Ä–∏–µ–π

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –∑–∞–¥–∞–Ω–∏—è

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è "–†–∞–±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏" –∑–∞–ø–∏—à–∏—Ç–µ –≤–∏–¥–µ–æ, –≥–¥–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ:

1. **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞**:
   ```bash
   python test_tokens.py
   ```
   –ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ –≤—Å–µ—Ö —Ç—Ä—ë—Ö —Ç–µ—Å—Ç–æ–≤ —Å —Ä–∞–∑–Ω–æ–π –¥–ª–∏–Ω–æ–π –∑–∞–ø—Ä–æ—Å–æ–≤

2. **–†–∞–±–æ—Ç–∞ —Å –±–æ—Ç–æ–º**:
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π –∑–∞–ø—Ä–æ—Å ("–ü—Ä–∏–≤–µ—Ç!")
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Ä–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –¥–ª–∏–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å (—Ü–µ–ª—ã–π –∞–±–∑–∞—Ü —Ç–µ–∫—Å—Ç–∞)
   - –ü–æ–∫–∞–∂–∏—Ç–µ –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤

3. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**:
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `/stats`
   - –ü–æ–∫–∞–∂–∏—Ç–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

4. **–ö–æ–¥**:
   - –ü–æ–∫–∞–∂–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —á–∞—Å—Ç–∏ –∫–æ–¥–∞ –≤ [bot.py](bot.py):
     - –§—É–Ω–∫—Ü–∏—é `call_openrouter_api()` (—Å—Ç—Ä–æ–∫–∏ 172-241)
     - –û–±—Ä–∞–±–æ—Ç–∫—É —Ç–æ–∫–µ–Ω–æ–≤ –≤ `ask_question()` (—Å—Ç—Ä–æ–∫–∏ 144-170)
     - –ö–æ–º–∞–Ω–¥—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ `stats_command()` (—Å—Ç—Ä–æ–∫–∏ 46-87)

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

- [OpenRouter API Documentation](https://openrouter.ai/docs/api/reference/overview)
- [OpenRouter Usage Accounting](https://openrouter.ai/docs/use-cases/usage-accounting)
- [Qwen Model on OpenRouter](https://openrouter.ai/qwen/qwen-2.5-7b-instruct:free)
- [API Parameters](https://openrouter.ai/docs/api/reference/parameters)
- [DataCamp OpenRouter Guide](https://www.datacamp.com/tutorial/openrouter)

## –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è

**–ó–∞–¥–∞–Ω–∏–µ**: –†–∞–±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏ - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Å—á—ë—Ç —Ç–æ–∫–µ–Ω–æ–≤, —Å—Ä–∞–≤–Ω–∏—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π, –¥–ª–∏–Ω–Ω—ã–π –∏ –ø—Ä–µ–≤—ã—à–∞—é—â–∏–π –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å—ã.

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ**:
- ‚úÖ –ü–æ–¥—Å—á—ë—Ç —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/stats` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `test_tokens.py` –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –¥–ª–∏–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
- ‚úÖ **–ë–û–ù–£–°**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏!

**–§–æ—Ä–º–∞—Ç**:
- –ö–æ–¥: [bot.py](bot.py), [test_tokens.py](test_tokens.py)
- –í–∏–¥–µ–æ: –ó–∞–ø–∏—à–∏—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é —Ä–∞–±–æ—Ç—ã (–ø—É–Ω–∫—Ç—ã –≤—ã—à–µ)
